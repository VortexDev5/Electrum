name: Create Custom Issues

on:
  workflow_dispatch:  # Trigger manually from GitHub UI

permissions:
  issues: write

jobs:
  create_custom_issues:
    runs-on: ubuntu-latest

    steps:
      - name: Create Different GitHub Issues
        uses: actions/github-script@v7
        with:
          github-token: ${{ secrets.GITHUB_TOKEN }}
          script: |
            const issues = [
              { title: "ğŸ› Bug: Login fails on mobile", body: "Steps to reproduce:\n1. Open site on mobile\n2. Try to login\n\nExpected: Login works\nActual: Login fails" },
              { title: "ğŸš€ Feature: Dark mode support", body: "Add dark theme toggle in settings." },
              { title: "ğŸ’„ UI: Improve navbar spacing", body: "The navbar looks cluttered on small screens." },
              { title: "ğŸ› ï¸ Refactor: Clean up authentication logic", body: "Split logic into separate reusable functions." },
              { title: "ğŸ“ˆ Analytics: Track button clicks", body: "We need to know which CTA buttons users click." },
              { title: "ğŸ”’ Security: Add rate limiting to login", body: "Prevent brute-force attacks by limiting login attempts." },
              { title: "ğŸ“ Docs: Setup README instructions", body: "Add clear steps to set up the project locally." },
              { title: "âœ… Test: Write tests for the signup flow", body: "Cover edge cases for email validation." },
              { title: "ğŸŒ Localization: Support French language", body: "Translate UI strings and date formats." },
              { title: "ğŸ“¦ Dependency: Update to React 18", body: "Test compatibility and update packages accordingly." }
            ];

            for (const issue of issues) {
              const response = await github.rest.issues.create({
                owner: context.repo.owner,
                repo: context.repo.repo,
                title: issue.title,
                body: issue.body,
                labels: ["auto"]
              });

              console.log(`âœ… Created issue: ${response.data.html_url}`);
            }
